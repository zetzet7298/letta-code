#!/bin/bash
# Resolve the real path of this script (following symlinks)
SCRIPT_PATH="$(readlink -f "$0")"
PROJECT_ROOT="$(dirname "$SCRIPT_PATH")"

export LETTA_BASE_URL="http://localhost:8283"
export LETTA_PROJECT_ROOT="$PROJECT_ROOT"

# Change to project directory to ensure relative imports work
cd "$PROJECT_ROOT" || exit 1

# Run bun directly on source code
exec bun --loader:.md=text --loader:.mdx=text --loader:.txt=text run "$PROJECT_ROOT/src/index.ts" "$@"
